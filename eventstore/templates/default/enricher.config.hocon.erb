# This file (config.hocon.sample) contains a template with
# configuration options for the EventStore Enricher.
#
# To use, copy this to 'config.hocon' and modify the configuration options.

# 'enricher' contains configuration options for the main Scala enricher.
enricher {
    # The name of the application. This name will be used to name the Spark streaming job. The name of the DynamoDB
    # table for storing Kinesis check-point. Hence, this should be unique for every instance within same AWS account.
    appName = EnricherApp

    anonOctets = 1

    geoMapperUrl = "http://ec2-54-86-121-127.compute-1.amazonaws.com:8082/geoip/api/v1"

    # AWS credentials
    #
    # If both are set to 'cpf', a properties file on the classpath is used.
    # http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/ClasspathPropertiesFileCredentialsProvider.html
    #
    # If both are set to 'iam', use AWS IAM Roles to provision credentials.
    #
    # If both are set to 'env', use environment variables AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY
    aws {
        accessKey = "iam"
        secretKey = "iam"
    }

    kinesis {
        endPointUrl = "https://kinesis.us-east-1.amazonaws.com"
        in {
            raw = "espoc-raw-events"
            checkpointInterval = 1000
        }
        out {
            enriched = "espoc-enriched-events"
            bad = "espoc-bad-events"
            RecordMaxBufferedTime = 1000
        }
    }
    shutdown {
        sqsUrl = "https://sqs.us-east-1.amazonaws.com/046872521175/espoc_shutdown_enricher"
        checkFrequency = 10000
    }
}
